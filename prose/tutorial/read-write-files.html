

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Read/Write Files &#8212; Inrupt solid-client Documentation</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link href="../_static/css/index.css" rel="stylesheet">
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" href="../_static/css/inrupt.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Manage Access to Data (ACL)" href="manage-access-control-list.html" />
    <link rel="prev" title="Read/Write Data" href="read-write-data.html" />
  
    <meta name="robots" content="index" />
  

  <link rel="shortcut icon" href="https://docs.inrupt.com/inrupt_stickers_v2-03.png" type="image/png" />
  <script type="text/javascript" src="https://inrupt.atlassian.net/s/d41d8cd98f00b204e9800998ecf8427e-T/-egccmf/b/24/a44af77267a987a660377e5c46e0fb64/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-US&collectorId=41592d74"></script>

  <!-- Matomo -->
  <script type="text/javascript">
    var _paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
      var u="https://mat.inrupt.com/";
      _paq.push(['setTrackerUrl', u+'piwik.php']);
      _paq.push(['setSiteId', '12']);
      var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
      g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
    })();
  </script>
  <!-- End Matomo Code -->

  
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main">
<div class="container-xl">

    <a class="navbar-brand" href="https://inrupt.com/">
      <img src="https://inrupt.com/sites/default/files/inrupt_email%20sign%20logo.jpg" class="logo" alt="logo">
    </a>

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar-menu" class="col-lg-9 collapse navbar-collapse">
      <ul id="navbar-main-elements" class="navbar-nav mr-auto">
          <li class="nav-item">
             <a class="nav-link" href="https://docs.inrupt.com/ess/"> Enterprise Solid Server </a>
          </li>
          <li class="nav-item"><a class="nav-link" href="#">Client Libraries </a>
               <ul class="nav-children">
                     <li class="nav-item nav-childitem">
                        <a href="https://docs.inrupt.com/client-libraries/solid-client-js/"> JavaScript</a>
                     </li>
               </ul>
          </li>
          
      </ul>


      

      
    </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
          <div class="col-12 col-md-3 bd-sidebar">

<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>


<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">

  <div class="bd-toc-item active">


  
  

  
  <ul class="nav bd-sidenav">
     
     <li class="nav-item toctree-top">
        <a class="nav-link" href="../"> Inrupt solid-client Documentation </a>
     </li>
     
     
      
         
             <li class="nav-item  toctree-l1"> <a class="nav-link" href="../installation.html">Installation</a>
             
             
             </li> 
           
      
         
             <li class="nav-item active toctree-l1"> <a class="nav-link" href="read-write-data.html">Read/Write Data</a>
             
             
               
                  <ul>
                      <li class="active toctree-l2"><a href="">Read/Write Files</a>
             
                      
                      </li>
                   </ul>
               
             
             </li> 
           
      
         
             <li class="nav-item  toctree-l1"> <a class="nav-link" href="manage-access-control-list.html">Manage Access to Data (ACL)</a>
             
             
             </li> 
           
      
         
             <li class="nav-item  toctree-l1"> <a class="nav-link" href="../reference.html">Reference</a>
             
             
             </li> 
           
      
         
             <li class="nav-item  toctree-l1"> <a class="nav-link" href="../api.html">API Reference</a>
             
             
             </li> 
           
      
         
             <li class="nav-item  toctree-l1"> <a class="nav-link" href="https://github.com/inrupt/solid-client-js">Source on GitHub</a>
             
             
             </li> 
           
      
         
             <li class="nav-item  toctree-l1"> <a class="nav-link" href="../issues-help.html">Issues & Help</a>
             
             
             </li> 
           
      
  </ul>
</div>
</nav>
          </div>
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#read-a-file" class="nav-link">Read a File</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#write-a-file" class="nav-link">Write a File</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#write-a-file-directly-at-a-url" class="nav-link">Write a file directly at a URL</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#save-a-file-into-a-parent-resource" class="nav-link">Save a file into a parent resource</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#delete-a-file" class="nav-link">Delete a File</a>
        </li>
    
    </ul>
</nav>


	
	   <div class="tocsection editthispage">
	       <i class="fas fa-edit"></i> 
	       <a class="edit-link" href="https://github.com/inrupt/solid-client-js/blob/master/docs/prose/source/tutorial/read-write-files.rst" target="_blank" title="Edit tutorial/read-write-files.txt on GitHub">
	           <span>Edit on Github</span>
	       </a>
	   </div>
	

              
          </div>
          

          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
  
  <div class="related">
    
      <ul>
          <li><a href="read-write-data.html">Read/Write Data</a><span class="bcpoint">  &#187; </span></li>
            <li>Read/Write Files</li>
      </ul>
    
  </div>
      <div class="alert alert-info">
         <span class="alert-message">All libraries and documentation are currently in Beta. Content and features are subject to change.</span>
      </div>
  
              <div>
                
  <div class="section" id="read-write-files">
<h1>Read/Write Files<a class="headerlink" href="#read-write-files" title="Permalink to this headline">¶</a></h1>
<p>Even if the core Solid data model is <strong>structured</strong> data (see
<a class="reference internal" href="read-write-data.html"><span class="doc">Read/Write Data</span></a>), a Solid Pod can also act as a regular
general-purpose data store. Besides your profile document, your friend
list and the likes, your Pod can also store your photos, PDFs and any
other type of file. Note that the <a class="reference internal" href="manage-access-control-list.html"><span class="doc">access restrictions</span></a> apply to files the same way
they apply to any other <a class="reference internal" href="../reference/glossary.html#term-Resource"><span class="xref std std-term">Resource</span></a>.</p>
<p>Like anything else in your Pod, each file is a resource with a distinct
URL, which may or may not contain a hint such as a <code class="docutils literal notranslate"><span class="pre">.jpg</span></code> extension
for a photo. You’ll find that the functions available to read and write
files to/from your Pod are very close to the browser’s <code class="docutils literal notranslate"><span class="pre">fetch</span></code>: files
are represented as typed <a class="reference external" href="https://developer.mozilla.org/docs/Web/API/Blob">Blobs</a>, and the result of
the functions is returned as a <a class="reference external" href="https://developer.mozilla.org/docs/Web/API/Response">Response</a>.</p>
<div class="section" id="read-a-file">
<h2>Read a File<a class="headerlink" href="#read-a-file" title="Permalink to this headline">¶</a></h2>
<p>Reading a file is just a matter of fetching the content available at a certain URL. You get a <cite>Response</cite> in return, which contains
the fetched file as a blob. It is then up to you to decode it appropriately.</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="kr">import</span> <span class="p">{</span>
  <span class="nx">getFile</span><span class="p">,</span>
  <span class="nx">isRawData</span><span class="p">,</span>
  <span class="nx">getContentType</span><span class="p">,</span>
  <span class="nx">getSourceUrl</span><span class="p">,</span>
<span class="p">}</span> <span class="nx">from</span> <span class="s2">&quot;@inrupt/solid-client&quot;</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">file</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">getFile</span><span class="p">(</span>
  <span class="s2">&quot;https://example.com/some/interesting/file&quot;</span>
<span class="p">);</span>
<span class="c1">// file is a Blob (see https://developer.mozilla.org/docs/Web/API/Blob)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span>
  <span class="sb">`Fetched a </span><span class="si">${</span><span class="nx">getContentType</span><span class="p">(</span><span class="nx">file</span><span class="p">)</span><span class="si">}</span><span class="sb"> file from </span><span class="si">${</span><span class="nx">getSourceUrl</span><span class="p">(</span><span class="nx">file</span><span class="p">)</span><span class="si">}</span><span class="sb">.`</span>
<span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`The file is </span><span class="si">${</span><span class="nx">isRawData</span><span class="p">(</span><span class="nx">file</span><span class="p">)</span> <span class="o">?</span> <span class="s2">&quot;not &quot;</span> <span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="si">}</span><span class="sb">a dataset.`</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="write-a-file">
<h2>Write a File<a class="headerlink" href="#write-a-file" title="Permalink to this headline">¶</a></h2>
<p>There are two approaches to writing files:</p>
<ol class="arabic simple">
<li><p>you know exactly at which URL your file should be saved (potentially overwriting any data that sat there previously).</p></li>
<li><p>you know what [Container](../glossary#container) should be the parent of your file, like saving it into a folder.</p></li>
</ol>
<div class="section" id="write-a-file-directly-at-a-url">
<h3>Write a file directly at a URL<a class="headerlink" href="#write-a-file-directly-at-a-url" title="Permalink to this headline">¶</a></h3>
<p>With this approach, if the request succeeds, you know exactly what the URL of your file is.</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">overwriteFile</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">&quot;@inrupt/solid-client&quot;</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">overwriteFile</span><span class="p">(</span>
  <span class="s2">&quot;https://example.com/some/new/file&quot;</span><span class="p">,</span>
  <span class="k">new</span> <span class="nx">Blob</span><span class="p">([</span><span class="s2">&quot;This is a plain piece of text&quot;</span><span class="p">],</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s2">&quot;plain/text&quot;</span> <span class="p">})</span>
  <span class="c1">// Or in Node:</span>
  <span class="c1">// Buffer.from(&quot;This is a plain piece of text&quot;, &quot;utf8&quot;), { type: &quot;plain/text&quot; })</span>
<span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">ok</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;File saved!&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="save-a-file-into-a-parent-resource">
<h3>Save a file into a parent resource<a class="headerlink" href="#save-a-file-into-a-parent-resource" title="Permalink to this headline">¶</a></h3>
<p>With this approach, you kindly ask the server to come up with a name for your file, potentially using a <cite>slug</cite> if you
provide one. Note that there is no guarantee about how the server will use the slug, if at all. In any case, if the slug
you provide matches a file that already exists under the same target resource, the server will create a new name for your
file so that no content is overwritten.</p>
<p>This means that you don’t control the final name of your file though. To keep track of the name the server gave to your
file, you’ll have extract it from the return value, as shown in the code snippet below:</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">saveFileInContainer</span><span class="p">,</span> <span class="nx">getSourceUrl</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">&quot;@inrupt/solid-client&quot;</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">savedFile</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">saveFileInContainer</span><span class="p">(</span>
  <span class="s2">&quot;https://example.com/some/folder&quot;</span><span class="p">,</span>
  <span class="k">new</span> <span class="nx">Blob</span><span class="p">([</span><span class="s2">&quot;This is a plain piece of text&quot;</span><span class="p">],</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s2">&quot;plain/text&quot;</span> <span class="p">}),</span>
  <span class="p">{</span> <span class="nx">slug</span><span class="o">:</span> <span class="s2">&quot;new-file&quot;</span> <span class="p">}</span>
<span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`File saved at </span><span class="si">${</span><span class="nx">getSourceUrl</span><span class="p">(</span><span class="nx">savedFile</span><span class="p">)</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="delete-a-file">
<h2>Delete a File<a class="headerlink" href="#delete-a-file" title="Permalink to this headline">¶</a></h2>
<p>Deleting a file is also a simple operation: you just erase the content available at a certain URL.</p>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">deleteFile</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">&quot;@inrupt/solid-client&quot;</span><span class="p">;</span>

<span class="nx">await</span> <span class="nx">deleteFile</span><span class="p">(</span>
  <span class="s2">&quot;https://example.com/some/boring/file&quot;</span>
<span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;File deleted !&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>


              </div>
              

              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="read-write-data.html" title="previous page">Read/Write Data</a>
    <a class='right-next' id="next-link" href="manage-access-control-list.html" title="next page">Manage Access to Data (ACL)</a>

              </div>
              
          </main>
          

      </div>
    </div>

    <script src="../_static/js/index.js"></script>
    <footer class="footer">
  <div class="container">
    <p>
          &copy; Copyright 2020-present, Inrupt Inc.<br/>
    </p>
  </div>
</footer>
  </body>
</html>